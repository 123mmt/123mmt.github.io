<!DOCTYPE HTML>
<html>
    <head>
        <title>MMT Login</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        
        <link rel="stylesheet" href="index.css">
        <link href="images/favicon.png" rel="shortcut icon"/>
    </head>
    <body>
        <div class="container">
            <div class="loginBox">
                <h1 style="font-size: 40px; padding-top: 15px;">Mind Mantra Tutoring</h1>
                <div class="loginDiv">
                    <form id="loginForm" class="loginForm" action="https://fresh-vital-serval.ngrok-free.app/login" method="post">
                        <input name="Email" placeholder="Email" required="" type="text" autofocus>
                        <input name="Password" placeholder="Password" type = "Password" required="" type="text">
                        <div>
                            <button type="submit" class="btn btn-primary">Login</button>
                        </div>
                    </form>
                </div>
            </div>
            <label class="forgotLabel" onclick="resetPassword()">Forgot Password?</label>
        </div>
    </body>

    <script>
        // When user presses _ button
        function resetPassword()
        {
            window.location.href = "https://fresh-vital-serval.ngrok-free.app/resetPassword";
        }

        // Handle form submission and skip ngrok warning
        document.getElementById("loginForm").addEventListener("submit", function(event)
        {
            event.preventDefault();
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            fetch(this.action,
            {
                method: this.method,
                headers: {
                    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
                    "Accept-Encoding": "gzip, deflate, br",
                    "Accept-Language": "en-US,en;q=0.9",
                    "Content-Length": "48",
                    "Content-Type": "application/x-www-form-urlencoded",
                    "Origin": "https://123mmt.github.io",
                    "Priority": "u=0, i",
                    "Referer": "https://123mmt.github.io/",
                    "Sec-Fetch-Dest": "document",
                    "Sec-Fetch-Mode": "navigate",
                    "Sec-Fetch-Site": "cross-site",
                    "ngrok-skip-browser-warning": "True"
                },
                body: JSON.stringify(data)
            })
        });
    </script>
</html>
